<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://pixijs.download/release/pixi.js"></script>
    
</head>
<body>

    <script>

        let app = new PIXI.Application({ width: 640, height: 360 });
        document.body.appendChild(app.view);

        let marble = PIXI.Texture.from('/img/blocks/marble.png');

        let background = new PIXI.Sprite(PIXI.Texture.BLACK);
        background.width = app.screen.width;
        background.height = app.screen.height;
        background.interactive = true;
        background.on('pointerdown', Test);
        app.stage.addChild(background);

        app.ticker.add((delta) => {
            
            for (var i = 1; i < app.stage.children.length; i++) {
                let child = app.stage.children[i];

                if (child.y < app.screen.height) {
                    child.x += 1;
                    child.y += 2
                }
            }
        });


        function Test(e) {
            let sprite = new PIXI.Sprite(marble);
            sprite.x = e.data.global.x;
            sprite.y = e.data.global.y;
            app.stage.addChild(sprite);
        }
        
    </script>
</body>
</html>